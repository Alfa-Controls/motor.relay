\hypertarget{_sensor_8c_source}{}\doxysection{Sensor.\+c}
\label{_sensor_8c_source}\index{C:/Users/cesar/MPLABXProjects/motor.relay/Sensor.c@{C:/Users/cesar/MPLABXProjects/motor.relay/Sensor.c}}
\mbox{\hyperlink{_sensor_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_sensor_8h}{Sensor.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_time_system_8h}{TimeSystem.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00016}00016 \textcolor{keyword}{static} \mbox{\hyperlink{struct_time_system}{TimeSystem}} * timer;}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00018}\mbox{\hyperlink{_sensor_8c_a81c81da12ec6efd32e4e8abfeec20ab5}{00018}} \textcolor{keywordtype}{void} \mbox{\hyperlink{_sensor_8c_a81c81da12ec6efd32e4e8abfeec20ab5}{sensorTasks}}(\mbox{\hyperlink{struct_s_e_n_s_o_r___t_a_g}{Sensor}} * \textcolor{keyword}{this}, uint16\_t meassure) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00019}00019     \textcolor{keywordflow}{switch} (this-\/>state) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00020}00020         \textcolor{keywordflow}{case} \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a026c9d22d3e16645f138a3b3128d452a}{MONITORING}}:}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00021}00021             \textcolor{keywordflow}{if} (meassure > this-\/>triggerInst) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00022}00022                 this-\/>state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a3073c523bd87d54fddf09fd7c3105797}{TRIP}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00023}00023                 this-\/>trip = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00024}00024                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00025}00025             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (meassure > this-\/>triggerTemp) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00026}00026                 this-\/>state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a10015117dea20291fbdbb55190a0a29d}{TEMPORIZED}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00027}00027                 this-\/>cronometer = timer-\/>\mbox{\hyperlink{struct_time_system_a7b3446cd1d37acf7def1db1d288c343c}{currentTimeMillis}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00028}00028                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00029}00029             \}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00030}00030             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00031}00031         \textcolor{keywordflow}{case} \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a10015117dea20291fbdbb55190a0a29d}{TEMPORIZED}}:}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00032}00032             \textcolor{keywordflow}{if} ((timer-\/>\mbox{\hyperlink{struct_time_system_a7b3446cd1d37acf7def1db1d288c343c}{currentTimeMillis}} -\/ this-\/>cronometer) > this-\/>timeLimit) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00033}00033                 this-\/>state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a3073c523bd87d54fddf09fd7c3105797}{TRIP}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00034}00034                 this-\/>trip = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00035}00035             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (meassure < this-\/>triggerTemp) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00036}00036                 this-\/>trip = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00037}00037                 this-\/>state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a026c9d22d3e16645f138a3b3128d452a}{MONITORING}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00038}00038             \}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00039}00039         \textcolor{keywordflow}{case} \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a3073c523bd87d54fddf09fd7c3105797}{TRIP}}:}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00040}00040             \textcolor{keywordflow}{if} (meassure < this-\/>triggerTemp) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00041}00041                 this-\/>trip = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00042}00042                 this-\/>state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a026c9d22d3e16645f138a3b3128d452a}{MONITORING}};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00043}00043             \}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00044}00044     \}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00047}\mbox{\hyperlink{_sensor_8c_a8926be117a79c870dd57738ba09194f9}{00047}} \mbox{\hyperlink{struct_s_e_n_s_o_r___t_a_g}{Sensor}} \mbox{\hyperlink{_sensor_8c_a8926be117a79c870dd57738ba09194f9}{NewSensor}}(uint16\_t ti, uint16\_t tt, uint16\_t tl) \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00048}00048     timer = \mbox{\hyperlink{_time_system_8c_a4d9df6a5e8a2a69cebe0c50f5ad49da5}{GetTimeSystemInstance}}();}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00049}00049     \mbox{\hyperlink{struct_s_e_n_s_o_r___t_a_g}{Sensor}} ss = \{}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00050}00050         .\mbox{\hyperlink{struct_s_e_n_s_o_r___t_a_g_a0f88c4970655b81ca1c28ae0da60b386}{timeLimit}} = tl,}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00051}00051         .triggerInst = ti,}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00052}00052         .triggerTemp = tt,}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00053}00053         .tasks = \mbox{\hyperlink{_sensor_8c_a81c81da12ec6efd32e4e8abfeec20ab5}{sensorTasks}},}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00054}00054         .trip = \textcolor{keyword}{false},}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00055}00055         .state = \mbox{\hyperlink{_sensor_8h_a4e26684045a9059b9df2181c65cf2a00a026c9d22d3e16645f138a3b3128d452a}{MONITORING}}}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00056}00056     \};}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00057}00057     \textcolor{keywordflow}{return} ss;}
\DoxyCodeLine{\Hypertarget{_sensor_8c_source_l00058}00058 \}}

\end{DoxyCode}
