\hypertarget{_a_d_c_reader_8c_source}{}\doxysection{ADCReader.\+c}
\label{_a_d_c_reader_8c_source}\index{C:/Users/cesar/MPLABXProjects/motor.relay/ADCReader.c@{C:/Users/cesar/MPLABXProjects/motor.relay/ADCReader.c}}
\mbox{\hyperlink{_a_d_c_reader_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_a_d_c_reader_8h}{ADCReader.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{adc_8h}{mcc\_generated\_files/adc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00015}00015 \textcolor{keyword}{static} \textcolor{keywordtype}{void} read(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00016}00016 \textcolor{keyword}{static} \textcolor{keywordtype}{void} init(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00018}00018 \textcolor{keyword}{static} \mbox{\hyperlink{struct_a_d_c_reader}{ADCReader}} \textcolor{keyword}{self} = \{}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00019}00019     .\mbox{\hyperlink{struct_a_d_c_reader_a750d05061f61bd79c5fd621fff0801b4}{read}} = read,}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00020}00020     .init = init,}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00021}00021 \};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00023}\mbox{\hyperlink{_a_d_c_reader_8c_a9308a2d59755ec3afd468921fd211695}{00023}} \mbox{\hyperlink{struct_a_d_c_reader}{ADCReader}} * \mbox{\hyperlink{_a_d_c_reader_8c_a9308a2d59755ec3afd468921fd211695}{GetADCReaderInstance}}(uint16\_t(*getResult)(\textcolor{keywordtype}{void}), \textcolor{keywordtype}{void} (*setChannel)(uint8\_t channel), \textcolor{keywordtype}{void} (*start)(\textcolor{keywordtype}{void}), uint8\_t teC, uint8\_t amC) \{}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00024}00024     \textcolor{keyword}{self}.\mbox{\hyperlink{struct_a_d_c_reader_a333d3647385800d31022defb0cd433e7}{ampChannel}} = amC;}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00025}00025     \textcolor{keyword}{self}.tempChannel = teC;}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00026}00026     \textcolor{keyword}{self}.setChannel = setChannel;}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00027}00027     \textcolor{keyword}{self}.getResult = getResult;}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00028}00028     \textcolor{keywordflow}{return} \&\textcolor{keyword}{self};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00029}00029 \}}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00031}00031 \textcolor{keyword}{static} \textcolor{keywordtype}{void} read(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00032}00032     \textcolor{keywordflow}{switch} (\textcolor{keyword}{self}.state) \{}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00033}00033         \textcolor{keywordflow}{case} \mbox{\hyperlink{_a_d_c_reader_8h_aa670525874104c3147352e908d170498acd1a3d1da76e84df5f360763e2fddfe8}{ADC\_READING\_TEMP}}:}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00034}00034             \textcolor{keyword}{self}.temperature = \textcolor{keyword}{self}.getResult();}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00035}00035             \textcolor{keyword}{self}.setChannel(\textcolor{keyword}{self}.ampChannel);}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00036}00036             \textcolor{keyword}{self}.state = \mbox{\hyperlink{_a_d_c_reader_8h_aa670525874104c3147352e908d170498adc7de4c109792a7828b12755739e7163}{ADC\_READING\_CURRENT}};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00037}00037             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00038}00038         \textcolor{keywordflow}{case} \mbox{\hyperlink{_a_d_c_reader_8h_aa670525874104c3147352e908d170498adc7de4c109792a7828b12755739e7163}{ADC\_READING\_CURRENT}}:}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00039}00039             \textcolor{keyword}{self}.current = \textcolor{keyword}{self}.getResult();}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00040}00040             \textcolor{keyword}{self}.setChannel(\textcolor{keyword}{self}.tempChannel);}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00041}00041             \textcolor{keyword}{self}.state = \mbox{\hyperlink{_a_d_c_reader_8h_aa670525874104c3147352e908d170498acd1a3d1da76e84df5f360763e2fddfe8}{ADC\_READING\_TEMP}};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00042}00042             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00043}00043     \}}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00044}00044     \textcolor{keyword}{self}.startConversion();}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00047}00047 \textcolor{keyword}{static} \textcolor{keywordtype}{void} init(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00048}00048     \textcolor{keyword}{self}.setChannel(\textcolor{keyword}{self}.tempChannel);}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00049}00049     \textcolor{keyword}{self}.state = \mbox{\hyperlink{_a_d_c_reader_8h_aa670525874104c3147352e908d170498acd1a3d1da76e84df5f360763e2fddfe8}{ADC\_READING\_TEMP}};}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00050}00050     \textcolor{keyword}{self}.startConversion();}
\DoxyCodeLine{\Hypertarget{_a_d_c_reader_8c_source_l00051}00051 \}}

\end{DoxyCode}
